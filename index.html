<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="icon" href="/favicon.ico" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="Web site created using create-react-app" />
  <link rel="apple-touch-icon" href="/logo192.png" />
  <link rel="manifest" href="/manifest.json" />
  <title>React App</title>
  <script defer="defer" src="/static/js/main.ab5ec14c.js"></script>
  <link href="/static/css/main.e6c13ad2.css" rel="stylesheet">
</head>

<body><noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root"></div>
  <button id="sendButton">Send</button>
  <script>
    // Wait for window to load 
    window.onload = function () {
      const sendButton = document.getElementById('sendButton');

      // Function to send a message to React Widget
      function sendMessageToWidget(msg) {
        window.postMessage({ type: 'parentMessage', text: msg }, '*');
      }

      // Listening for a message from React Widget
      window.addEventListener('message', function (event) {
        if (event.data.type === 'widgetMessage') {
          console.log('Received message from widget: ', event.data.text);
        }
      });

      // Sending a message
      sendButton.addEventListener('click', () => {
        // Send the message to the React widget
        sendMessageToWidget('Hello from parent page');
      });
    };
  </script>
</body>

</html>